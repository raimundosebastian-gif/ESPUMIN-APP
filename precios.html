<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ESPUMIN APP - Precios</title>
    <link rel="stylesheet" href="style.css">
</head>

<body onload="inicializarPrecios()">

    <!-- ============================
         BANNER SUPERIOR
    ============================= -->
    <header class="banner">
        <h1>Gestión de Precios</h1>
        <a href="menu.html" class="btn-volver">Volver al Menú</a>
    </header>

    <!-- ============================
         USUARIO LOGUEADO
    ============================= -->
    <section class="usuario-info">
        <p>Usuario: <strong><span id="usuario-log"></span></strong></p>
        <button onclick="cerrarSesion()" class="btn-sesion">Cerrar sesión</button>
    </section>

    <!-- ============================
         CONTENEDOR PRINCIPAL
    ============================= -->
    <section class="contenedor">

        <h2>Modificar Precio</h2>

        <label>Producto</label>
        <select id="precio-producto" class="input-box" onchange="mostrarPrecioActual()">
            <option value="">Seleccione un producto</option>
        </select>

        <div id="precio-actual" class="precio-actual"></div>

        <label>Nuevo Precio</label>
        <input id="precio-nuevo" type="number" step="0.01" placeholder="Nuevo precio" class="input-box">

        <button onclick="guardarPrecio()" class="btn-guardar">Guardar Precio</button>

    </section>

    <script src="script.js"></script>

    <script>
        function inicializarPrecios() {
            const usuario = localStorage.getItem("loggedUser");
            if (!usuario) {
                location.href = "index.html";
                return;
            }

            document.getElementById("usuario-log").textContent = usuario;

            cargarProductosEnPrecios();
            mostrarPrecioActual();
        }
    </script>

</body>
</html>
